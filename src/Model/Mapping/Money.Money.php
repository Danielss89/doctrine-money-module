<?php

$metadata->isEmbeddedClass = true;

$metadata->mapField(array(
    'fieldName' => 'amount',
    'type' => 'integer'
));

$metadata->mapField(array(
    'fieldName' => 'currency',
    'type' => 'currency'
));
